"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[84653],{55190:function(e,t,i){i.d(t,{X:function(){return v}});var a=i(97711),s=i(69633),r=i(95311),l=i(35118),n=i(62732),o=i(1850),h=i(15327),d=i(85136),u=i(26669),c=i(76233),f=i(49999),p=i(75907),g=i(44551),m=i(65588);let v=(e=!1)=>[{field:"id",generateData:s.kb,hide:!0},{field:"desk",headerName:"Desk",generateData:s.xv,width:110},{field:"commodity",headerName:"Commodity",generateData:s.GV,width:180,editable:e},{field:"traderName",headerName:"Trader Name",generateData:s.He,width:120,editable:e},{field:"traderEmail",headerName:"Trader Email",generateData:s.FU,renderCell:r.H,width:150,editable:e},{field:"quantity",headerName:"Quantity",type:"number",width:140,generateData:s.uN,editable:e,valueParser:e=>Number(e)},{field:"filledQuantity",headerName:"Filled Quantity",generateData:s.y9,renderCell:l.n,renderEditCell:n.O,availableAggregationFunctions:["min","max","avg","size"],type:"number",width:120,editable:e},{field:"isFilled",headerName:"Is Filled",align:"center",generateData:s.SO,type:"boolean",width:80,editable:e},{field:"status",headerName:"Status",generateData:s.hz,renderCell:o.N,renderEditCell:h.r,type:"singleSelect",valueOptions:m.STATUS_OPTIONS,width:150,editable:e},{field:"unitPrice",headerName:"Unit Price",generateData:s.WN,type:"number",editable:e,valueParser:e=>Number(e)},{field:"unitPriceCurrency",headerName:"Unit Price Currency",generateData:s.rt,renderEditCell:d.d,type:"singleSelect",valueOptions:m.CURRENCY_OPTIONS,width:120,editable:e},{field:"subTotal",headerName:"Sub Total",valueGetter:(e,t)=>null==t.quantity||null==t.unitPrice?null:t.quantity*t.unitPrice,type:"number",width:120},{field:"feeRate",headerName:"Fee Rate",generateData:s.gI,type:"number",width:80,editable:e,valueParser:e=>Number(e)},{field:"feeAmount",headerName:"Fee Amount",valueGetter:(e,t)=>null==t.feeRate||null==t.quantity||null==t.unitPrice?null:t.feeRate*t.quantity*t.unitPrice,type:"number",width:120},{field:"incoTerm",headerName:"Incoterm",generateData:s.rN,renderCell:u.O,renderEditCell:c.X,type:"singleSelect",valueOptions:m.INCOTERM_OPTIONS,editable:e},{field:"totalPrice",headerName:"Total in USD",valueGetter:(e,t)=>null==t.feeRate||null==t.quantity||null==t.unitPrice?null:t.feeRate+t.quantity*t.unitPrice,renderCell:f.s,type:"number",width:160},{field:"pnl",headerName:"PnL",generateData:s.Jv,renderCell:p.E,type:"number",width:140},{field:"maturityDate",headerName:"Maturity Date",generateData:s.rU,type:"date",editable:e},{field:"tradeDate",headerName:"Trade Date",generateData:s.cS,type:"date",editable:e},{field:"brokerId",headerName:"Broker Id",generateData:s.i0,hide:!0,editable:e},{field:"brokerName",headerName:"Broker Name",generateData:s.Pp,width:140,editable:e},{field:"counterPartyName",headerName:"Counterparty",generateData:s.Pp,width:180,editable:e},{field:"counterPartyCountry",headerName:"Counterparty Country",type:"singleSelect",generateData:s.nC,renderCell:g.$,valueOptions:m.COUNTRY_ISO_OPTIONS_SORTED,valueParser:e=>"string"==typeof e?m.COUNTRY_ISO_OPTIONS_SORTED.find(t=>t.value===e):e,valueFormatter:e=>e?.label,groupingValueGetter:e=>e.code,sortComparator:(e,t,i,s)=>(0,a.Id)(e.label,t.label,i,s),editable:e,width:120},{field:"counterPartyCurrency",headerName:"Counterparty Currency",generateData:s.yU,renderEditCell:d.d,type:"singleSelect",valueOptions:m.CURRENCY_OPTIONS,editable:e},{field:"counterPartyAddress",headerName:"Counterparty Address",generateData:s.D8,width:200,editable:e},{field:"counterPartyCity",headerName:"Counterparty City",generateData:s.JD,width:120,editable:e},{field:"taxCode",headerName:"Tax Code",generateData:s.pe,type:"singleSelect",valueOptions:m.TAXCODE_OPTIONS,editable:e},{field:"contractType",headerName:"Contract Type",generateData:s.hv,type:"singleSelect",valueOptions:m.CONTRACT_TYPE_OPTIONS,editable:e},{field:"rateType",headerName:"Rate Type",generateData:s._e,type:"singleSelect",valueOptions:m.RATE_TYPE_OPTIONS,editable:e},{field:"lastUpdated",headerName:"Updated on",generateData:s.ub,type:"dateTime",width:180,editable:e},{field:"dateCreated",headerName:"Created on",generateData:s.vx,type:"date",width:150,editable:e}]},78308:function(e,t,i){i.d(t,{e:function(){return f}});var a=i(97711),s=i(69633),r=i(78858),l=i(42779),n=i(15009),o=i(50388),h=i(95311),d=i(44551),u=i(57499),c=i(65588);let f=()=>[{field:"id",generateData:s.kb,hide:!0},{field:"avatar",headerName:"Avatar",generateData:s.p,display:"flex",renderCell:r.a,valueGetter:(e,t)=>null==t.name||null==t.avatar?null:{name:t.name,color:t.avatar},sortable:!1,filterable:!1,groupable:!1,aggregable:!1,disableExport:!0},{field:"name",headerName:"Name",generateData:s.BU,dataGeneratorUniquenessEnabled:!0,width:120,editable:!0,groupable:!1,aggregable:!1},{field:"website",headerName:"Website",generateData:s.GT,renderCell:l.K,width:160,editable:!0,groupable:!1,aggregable:!1},{field:"rating",headerName:"Rating",generateData:s.It,display:"flex",renderCell:n.N,renderEditCell:o._,width:180,type:"number",editable:!0,availableAggregationFunctions:["avg","min","max","size"]},{field:"email",headerName:"Email",generateData:s.FU,renderCell:h.H,width:150,editable:!0},{field:"phone",headerName:"Phone",generateData:s.fB,width:150,editable:!0},{field:"username",headerName:"Username",generateData:s.yS,width:150,editable:!0},{field:"city",headerName:"City",generateData:s.JD,editable:!0},{field:"country",headerName:"Country",type:"singleSelect",valueOptions:c.COUNTRY_ISO_OPTIONS_SORTED,valueFormatter:e=>e?.label,generateData:s.nC,renderCell:d.$,renderEditCell:u.Y,sortComparator:(e,t,i,s)=>(0,a.Id)(e.label,t.label,i,s),width:150,editable:!0},{field:"company",headerName:"Company",generateData:s.Pp,width:180,editable:!0},{field:"position",headerName:"Position",generateData:s.PR,width:180,editable:!0},{field:"lastUpdated",headerName:"Updated on",generateData:s.ub,type:"dateTime",width:180,editable:!0},{field:"dateCreated",headerName:"Created on",generateData:s.vx,type:"date",width:120,editable:!0},{field:"isAdmin",headerName:"Is admin?",generateData:s.nB,type:"boolean",width:150,editable:!0},{field:"salary",headerName:"Salary",generateData:()=>(0,s.Iy)(3e4,8e4),type:"number",valueFormatter:e=>e&&"number"==typeof e?`$${e.toLocaleString()}`:e}]},84653:function(e,t,i){i.d(t,{PT:function(){return m},U7:function(){return c},_A:function(){return f},aY:function(){return g},wu:function(){return p}});var a=i(99672),s=i(92379),r=i(11271),l=i(11815),n=i(55190),o=i(78308),h=i(69438),d=i(34968);let u=new r.z({max:10,ttl:3e5});async function c(e,t){return new Promise(i=>{let s=t.rows,r=t.rows.slice(),l={current:e-s.length};(0,h.Z)({work:function(){let e={};for(let i=0;i<t.columns.length;i+=1){let a=t.columns[i],r=Math.round(Math.random()*(s.length-1));"id"===a.field?e.id=`id-${l.current+s.length}`:e[a.field]=s[r][a.field]}r.push(e),l.current-=1},done:()=>i((0,a.Z)({},t,{rows:r})),tasks:l})})}let f=e=>{for(let t of Object.getOwnPropertyNames(e)){let i=e[t];i&&"object"==typeof i&&f(i)}return Object.freeze(e)},p=e=>{let t="Commodity"===e.dataSet?(0,n.X)(e.editable):(0,o.e)();return e.visibleFields&&(t=t.map(t=>e.visibleFields?.includes(t.field)?t:(0,a.Z)({},t,{hide:!0}))),e.maxColumns&&(t=t.slice(0,e.maxColumns)),t},g=(e,t)=>{let i={};t.forEach(e=>{e.hide&&(i[e.field]=!1)});let a=e.treeData?.groupingField;return a&&(i[a]=!1),{columns:{columnVisibilityModel:i}}},m=e=>{let[t,i]=s.useState(e.rowLength),[a,r]=s.useState(0),[n,o]=s.useState(!0),h=s.useMemo(()=>p({dataSet:e.dataSet,editable:e.editable,maxColumns:e.maxColumns,visibleFields:e.visibleFields}),[e.dataSet,e.editable,e.maxColumns,e.visibleFields]),[f,m]=s.useState(()=>(0,d.Z)({columns:h,rows:[],initialState:g(e,h)},e.treeData));return s.useEffect(()=>{let i=`${e.dataSet}-${t}-${a}-${e.maxColumns}`;if(u.has(i)){m(u.get(i)),o(!1);return}let s=!0;return(async()=>{let a;o(!0),t>1e3?(a=await (0,l.k)(1e3,h),a=await c(t,a)):a=await (0,l.k)(t,h),s&&(a=(0,d.Z)(a,{maxDepth:e.treeData?.maxDepth,groupingField:e.treeData?.groupingField,averageChildren:e.treeData?.averageChildren}),u.set(i,a),m(a),o(!1))})(),()=>{s=!1}},[t,e.dataSet,e.maxColumns,e.treeData?.maxDepth,e.treeData?.groupingField,e.treeData?.averageChildren,a,h]),{data:f,loading:n,setRowLength:i,loadNewData:()=>{r(e=>e+1)}}}},78858:function(e,t,i){i.d(t,{a:function(){return r}}),i(92379);var a=i(18843),s=i(651);function r(e){return null==e.value?"":(0,s.jsx)(a.Z,{style:{backgroundColor:e.value.color},children:e.value.name.toUpperCase().substring(0,1)})}},44551:function(e,t,i){i.d(t,{$:function(){return n}});var a=i(92379),s=i(63154),r=i(651);let l=a.memo(function(e){let{value:t}=e;return(0,r.jsxs)(s.Z,{sx:{width:"100%",display:"flex",alignItems:"center","&  > img":{mr:.5,flexShrink:0,width:"20px"}},children:[(0,r.jsx)("img",{loading:"lazy",width:"20",src:`https://flagcdn.com/w20/${t.code.toLowerCase()}.png`,srcSet:`https://flagcdn.com/w40/${t.code.toLowerCase()}.png 2x`,alt:""}),(0,r.jsx)(s.Z,{component:"span",sx:{overflow:"hidden",textOverflow:"ellipsis"},children:t.label})]})});function n(e){return null==e.value?"":e.aggregation&&!e.aggregation.hasCellUnit?null:(0,r.jsx)(l,{value:e.value})}},57499:function(e,t,i){i.d(t,{Y:function(){return g}});var a=i(99672),s=i(92379),r=i(54032),l=i(57915),n=i(36686),o=i(36396),h=i(63154),d=i(84691),u=i(65588),c=i(651);let f=(0,d.ZP)(l.Z)(({theme:e})=>({height:"100%",[`& .${n.Z.inputRoot}`]:(0,a.Z)({},e.typography.body2,{padding:"1px 0",height:"100%","& input":{padding:"0 16px",height:"100%"}})}));function p(e){let{id:t,value:i,field:l}=e,n=(0,r.l)(),d=s.useCallback(async(e,i)=>{await n.current.setEditCellValue({id:t,field:l,value:i},e),n.current.stopCellEditMode({id:t,field:l})},[n,l,t]);return(0,c.jsx)(f,{value:i,onChange:d,options:u.COUNTRY_ISO_OPTIONS,getOptionLabel:e=>e.label,autoHighlight:!0,fullWidth:!0,open:!0,disableClearable:!0,renderOption:(e,t)=>(0,s.createElement)(h.Z,(0,a.Z)({component:"li",sx:{"& > img":{mr:1.5,flexShrink:0}}},e,{key:t.code}),(0,c.jsx)("img",{loading:"lazy",width:"20",src:`https://flagcdn.com/w20/${t.code.toLowerCase()}.png`,srcSet:`https://flagcdn.com/w40/${t.code.toLowerCase()}.png 2x`,alt:""}),t.label),renderInput:e=>(0,c.jsx)(o.ZP,(0,a.Z)({autoFocus:!0,fullWidth:!0,id:e.id,inputProps:(0,a.Z)({},e.inputProps,{autoComplete:"new-password"})},e.InputProps))})}function g(e){return(0,c.jsx)(p,(0,a.Z)({},e))}},85136:function(e,t,i){i.d(t,{d:function(){return g}});var a=i(99672),s=i(92379),r=i(54032),l=i(57915),n=i(36686),o=i(36396),h=i(63154),d=i(84691),u=i(65588),c=i(651);let f=(0,d.ZP)(l.Z)(({theme:e})=>({height:"100%",[`& .${n.Z.inputRoot}`]:(0,a.Z)({},e.typography.body2,{padding:"1px 0",height:"100%","& input":{padding:"0 16px",height:"100%"}})}));function p(e){let{id:t,value:i,field:l}=e,n=(0,r.l)(),d=s.useCallback(async(e,i)=>{await n.current.setEditCellValue({id:t,field:l,value:i.toUpperCase()},e),n.current.stopCellEditMode({id:t,field:l})},[n,l,t]);return(0,c.jsx)(f,{value:i,onChange:d,options:u.CURRENCY_OPTIONS,autoHighlight:!0,fullWidth:!0,open:!0,disableClearable:!0,renderOption:(e,t)=>(0,c.jsxs)(h.Z,(0,a.Z)({component:"li",sx:{"& > img":{mr:1.5,flexShrink:0}}},e,{children:[(0,c.jsx)("img",{loading:"lazy",width:"20",src:`https://flagcdn.com/w20/${t.slice(0,-1).toLowerCase()}.png`,srcSet:`https://flagcdn.com/w40/${t.slice(0,-1).toLowerCase()}.png 2x`,alt:""}),t]})),renderInput:e=>(0,c.jsx)(o.ZP,(0,a.Z)({autoFocus:!0,fullWidth:!0,id:e.id,inputProps:(0,a.Z)({},e.inputProps,{autoComplete:"new-password"})},e.InputProps))})}function g(e){return(0,c.jsx)(p,(0,a.Z)({},e))}},76233:function(e,t,i){i.d(t,{X:function(){return c}});var a=i(99672);i(92379);var s=i(54032),r=i(8866),l=i(69474),n=i(24013),o=i(10592),h=i(65588),d=i(651);function u(e){let{id:t,value:i,field:a}=e,u=(0,s.l)(),c=async e=>{await u.current.setEditCellValue({id:t,field:a,value:e.target.value},e),u.current.stopCellEditMode({id:t,field:a})};return(0,d.jsx)(r.Z,{value:i,onChange:c,MenuProps:{onClose:(e,i)=>{"backdropClick"===i&&u.current.stopCellEditMode({id:t,field:a})}},sx:{height:"100%","& .MuiSelect-select":{display:"flex",alignItems:"center",pl:1}},autoFocus:!0,fullWidth:!0,open:!0,children:h.INCOTERM_OPTIONS.map(e=>{let t=e.slice(e.indexOf("(")+1,e.indexOf(")")),i=e.slice(0,e.indexOf("(")).trim();return(0,d.jsxs)(l.Z,{value:e,children:[(0,d.jsx)(n.Z,{sx:{minWidth:36},children:i}),(0,d.jsx)(o.Z,{primary:t,sx:{overflow:"hidden"}})]},e)})})}function c(e){return(0,d.jsx)(u,(0,a.Z)({},e))}},62732:function(e,t,i){i.d(t,{O:function(){return v}});var a=i(99672),s=i(92379),r=i(53048),l=i(54032),n=i(97059),o=i(34161),h=i(10737),d=i(48897),u=i(84691),c=i(36248),f=i(651);let p=(0,u.ZP)(n.ZP)(({theme:e})=>({display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center",padding:0,borderRadius:0,[`& .${o.Z.rail}`]:{height:"100%",backgroundColor:"transparent"},[`& .${o.Z.track}`]:{height:"100%",transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter}),"&.low":{backgroundColor:"#f44336"},"&.medium":{backgroundColor:"#efbb5aa3"},"&.high":{backgroundColor:"#088208a3"}},[`& .${o.Z.thumb}`]:{height:"100%",width:5,borderRadius:0,marginTop:0,backgroundColor:(0,c.Fq)("#000000",.2)}}));function g(e){let{children:t,open:i,value:a}=e;return(0,f.jsx)(h.Z,{open:i,enterTouchDelay:0,placement:"top",title:a,children:t})}function m(e){let{id:t,value:i,field:a}=e,[n,o]=s.useState(Number(i)),h=(0,l.l)(),u=s.useCallback(e=>{h.current.setEditCellValue({id:t,field:a,value:e})},[h,a,t]),c=s.useMemo(()=>(0,d.Z)(u,60),[u]);return s.useEffect(()=>{o(Number(i))},[i]),(0,f.jsx)(p,{ref:e=>{e&&e.querySelector('[type="range"]').focus()},classes:{track:(0,r.default)(n<.3&&"low",n>=.3&&n<=.7&&"medium",n>.7&&"high")},value:n,max:1,step:1e-5,onChange:(e,t)=>{o(t),c(t)},components:{ValueLabel:g},valueLabelDisplay:"auto",valueLabelFormat:e=>`${(100*e).toLocaleString()} %`})}function v(e){return(0,f.jsx)(m,(0,a.Z)({},e))}},50388:function(e,t,i){i.d(t,{_:function(){return d}});var a=i(99672),s=i(92379),r=i(63154),l=i(30761),n=i(54032),o=i(651);function h(e){let{id:t,value:i,field:a}=e,h=(0,n.l)(),d=s.useRef(!1),u=async e=>{await h.current.setEditCellValue({id:t,field:a,value:Number(e.target.value)},e),d.current||h.current.stopCellEditMode({id:t,field:a}),d.current=!1};return(0,o.jsxs)(r.Z,{sx:{display:"flex",alignItems:"center",lineHeight:"24px",color:"text.secondary",mr:1},children:[(0,o.jsx)(l.Z,{ref:e=>{e&&(0!==i?e.querySelector(`input[value="${i}"]`).focus():e.querySelector('input[value=""]').focus())},name:"rating",value:Number(i),precision:1,onChange:u,sx:{mr:1},onKeyDown:e=>{e.key.startsWith("Arrow")?d.current=!0:d.current=!1}}),Number(i)]})}function d(e){return(0,o.jsx)(h,(0,a.Z)({},e))}},15327:function(e,t,i){i.d(t,{r:function(){return y}});var a=i(99672);i(92379);var s=i(16568),r=i(54032),l=i(62053),n=i(8866),o=i(69474),h=i(24013),d=i(10592),u=i(63927),c=i(89157),f=i(27955),p=i(54824),g=i(65588),m=i(651);function v(e){let{id:t,value:i,field:a}=e,v=(0,s.B)(),y=(0,r.l)(),x=async e=>{await y.current.setEditCellValue({id:t,field:a,value:e.target.value})&&v.editMode===l.r2.Cell&&y.current.stopCellEditMode({id:t,field:a,cellToFocusAfter:"below"})};return(0,m.jsx)(n.Z,{value:i,onChange:x,MenuProps:{onClose:(e,i)=>{"backdropClick"===i&&y.current.stopCellEditMode({id:t,field:a,ignoreModifications:!0})}},sx:{height:"100%","& .MuiSelect-select":{display:"flex",alignItems:"center",pl:1}},autoFocus:!0,fullWidth:!0,open:!0,children:g.STATUS_OPTIONS.map(e=>{let t=null;"Rejected"===e?t=u.Z:"Open"===e?t=c.default:"PartiallyFilled"===e?t=f.Z:"Filled"===e&&(t=p.default);let i=e;return"PartiallyFilled"===e&&(i="Partially Filled"),(0,m.jsxs)(o.Z,{value:e,children:[(0,m.jsx)(h.Z,{sx:{minWidth:36},children:(0,m.jsx)(t,{fontSize:"small"})}),(0,m.jsx)(d.Z,{primary:i,sx:{overflow:"hidden"}})]},e)})})}function y(e){return(0,m.jsx)(v,(0,a.Z)({},e))}},95311:function(e,t,i){i.d(t,{H:function(){return r}}),i(92379);var a=i(42779),s=i(651);function r(e){let t=e.value??"";return(0,s.jsx)(a.L,{href:`mailto:${t}`,tabIndex:e.tabIndex,children:t})}},26669:function(e,t,i){i.d(t,{O:function(){return h}});var a=i(92379),s=i(10737),r=i(63154),l=i(89157),n=i(651);let o=a.memo(function(e){let{value:t}=e;if(!t)return null;let i=t.toString(),a=i.slice(i.indexOf("(")+1,i.indexOf(")")),o=i.slice(0,i.indexOf("(")).trim();return(0,n.jsxs)(r.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,n.jsx)("span",{children:o}),(0,n.jsx)(s.Z,{title:a,children:(0,n.jsx)(l.default,{sx:{color:"#2196f3",alignSelf:"center",ml:"8px"}})})]})});function h(e){return(0,n.jsx)(o,{value:e.value})}},42779:function(e,t,i){i.d(t,{K:function(){return o},L:function(){return n}});var a=i(92379),s=i(84691),r=i(651);let l=(0,s.ZP)("a")({textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",color:"inherit"}),n=a.memo(function(e){return(0,r.jsx)(l,{tabIndex:e.tabIndex,onClick:e=>{e.preventDefault(),e.stopPropagation()},href:e.href,children:e.children})});function o(e){return null==e.value?"":(0,r.jsx)(n,{href:e.value,tabIndex:e.tabIndex,children:e.value})}},75907:function(e,t,i){i.d(t,{E:function(){return d}});var a=i(99672),s=i(92379),r=i(53048),l=i(84691),n=i(651);let o=(0,l.ZP)("div")(({theme:e})=>({width:"100%",fontVariantNumeric:"tabular-nums","&.positive":(0,a.Z)({color:e.palette.success.light},e.applyStyles("light",{color:e.palette.success.dark})),"&.negative":(0,a.Z)({color:e.palette.error.light},e.applyStyles("light",{color:e.palette.error.dark}))})),h=s.memo(function(e){let{value:t}=e;return(0,n.jsx)(o,{className:(0,r.default)(t>0&&"positive",t<0&&"negative"),children:t<0?`(${Math.abs(t).toLocaleString()})`:t.toLocaleString()})});function d(e){return null==e.value?"":(0,n.jsx)(h,{value:e.value})}},35118:function(e,t,i){i.d(t,{n:function(){return c}});var a=i(92379),s=i(53048),r=i(84691),l=i(651);let n=(0,r.ZP)("div")({height:"100%",display:"flex",alignItems:"center"}),o=(0,r.ZP)("div")(({theme:e})=>({border:`1px solid ${(e.vars||e).palette.divider}`,position:"relative",overflow:"hidden",width:"100%",height:26,borderRadius:2})),h=(0,r.ZP)("div")({position:"absolute",lineHeight:"24px",width:"100%",display:"flex",justifyContent:"center"}),d=(0,r.ZP)("div")({height:"100%","&.low":{backgroundColor:"#f44336"},"&.medium":{backgroundColor:"#efbb5aa3"},"&.high":{backgroundColor:"#088208a3"}}),u=a.memo(function(e){let{value:t}=e,i=100*t;return(0,l.jsxs)(o,{children:[(0,l.jsx)(h,{children:`${i.toLocaleString()} %`}),(0,l.jsx)(d,{className:(0,s.default)(i<30&&"low",i>=30&&i<=70&&"medium",i>70&&"high"),style:{maxWidth:`${i}%`}})]})});function c(e){return null==e.value?"":e.aggregation&&!e.aggregation.hasCellUnit?null:(0,l.jsx)(n,{children:(0,l.jsx)(u,{value:e.value})})}},15009:function(e,t,i){i.d(t,{N:function(){return o}});var a=i(92379),s=i(63154),r=i(30761),l=i(651);let n=a.memo(function(e){let{value:t}=e;return(0,l.jsxs)(s.Z,{sx:{display:"flex",alignItems:"center",lineHeight:"24px",color:"text.secondary"},children:[(0,l.jsx)(r.Z,{value:t,sx:{mr:1},readOnly:!0})," ",Math.round(10*Number(t))/10]})});function o(e){return null==e.value?"":e.aggregation&&!e.aggregation.hasCellUnit?null:(0,l.jsx)(n,{value:e.value})}},1850:function(e,t,i){i.d(t,{N:function(){return f}});var a=i(92379),s=i(63927),r=i(89157),l=i(27955),n=i(54824),o=i(11852),h=i(84691),d=i(651);let u=(0,h.ZP)(o.Z)(({theme:e})=>({justifyContent:"left","& .icon":{color:"inherit"},"&.Open":{color:(e.vars||e).palette.info.dark,border:`1px solid ${(e.vars||e).palette.info.main}`},"&.Filled":{color:(e.vars||e).palette.success.dark,border:`1px solid ${(e.vars||e).palette.success.main}`},"&.PartiallyFilled":{color:(e.vars||e).palette.warning.dark,border:`1px solid ${(e.vars||e).palette.warning.main}`},"&.Rejected":{color:(e.vars||e).palette.error.dark,border:`1px solid ${(e.vars||e).palette.error.main}`}})),c=a.memo(e=>{let{status:t}=e,i=null;"Rejected"===t?i=(0,d.jsx)(s.Z,{className:"icon"}):"Open"===t?i=(0,d.jsx)(r.default,{className:"icon"}):"PartiallyFilled"===t?i=(0,d.jsx)(l.Z,{className:"icon"}):"Filled"===t&&(i=(0,d.jsx)(n.default,{className:"icon"}));let a=t;return"PartiallyFilled"===t&&(a="Partially Filled"),(0,d.jsx)(u,{className:t,icon:i,size:"small",label:a,variant:"outlined"})});function f(e){return null==e.value?"":(0,d.jsx)(c,{status:e.value})}},49999:function(e,t,i){i.d(t,{s:function(){return u}});var a=i(92379),s=i(53048),r=i(84691),l=i(36248),n=i(651);let o=(0,r.ZP)("div")(({theme:e})=>({width:"100%",height:"100%",lineHeight:"100%",paddingRight:8,fontVariantNumeric:"tabular-nums",display:"flex",alignItems:"center",justifyContent:"flex-end","&.good":{backgroundColor:e.vars?`rgba(${e.vars.palette.success.mainChannel} /  0.3)`:(0,l.Fq)(e.palette.success.main,.3)},"&.bad":{backgroundColor:e.vars?`rgba(${e.vars.palette.error.mainChannel} /  0.3)`:(0,l.Fq)(e.palette.error.main,.3)}})),h=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),d=a.memo(function(e){let{value:t}=e;return(0,n.jsx)(o,{className:(0,s.default)(t>1e6&&"good",t<1e6&&"bad"),children:h.format(t)})});function u(e){return null==e.value?"":e.aggregation&&!e.aggregation.hasCellUnit?null:(0,n.jsx)(d,{value:e.value})}},69438:function(e,t,i){i.d(t,{Z:function(){return a}});function a({work:e,tasks:t,done:i}){let a=s=>{for(;(s.timeRemaining()>0||s.didTimeout)&&t.current>0;)e();t.current>0?requestIdleCallback(a):i()};if("function"!=typeof requestIdleCallback||requestIdleCallback.clock){for(;t.current>0;)e();i()}else requestIdleCallback(a)}},11815:function(e,t,i){i.d(t,{k:function(){return s}});var a=i(69438);function s(e,t){return new Promise(i=>{let s={current:e},r=[],l={},n={};t.forEach(e=>{e.hide&&(n[e.field]=!1)}),(0,a.Z)({work:function(){let e={};for(let i=0;i<t.length;i+=1){let a=t[i];if(a.generateData){let t={};if(a.dataGeneratorUniquenessEnabled){let e=l[a.field];e||(e={},l[a.field]=e),t.values=e}e[a.field]=a.generateData(e,t)}}r.push(e),s.current-=1},done:()=>i({columns:t,rows:r,initialState:{columns:{columnVisibilityModel:n}}}),tasks:s})})}},34968:function(e,t,i){i.d(t,{Z:function(){return r}});var a=i(99672),s=i(69633);let r=(e,t={})=>{let{averageChildren:i=2,maxDepth:r=1,groupingField:l}=t;if(!(r>1&&null!=l))return e;if(e.rows.length>1e3)throw Error("MUI X: useDemoData tree data mode only works up to 1000 rows.");let n={},o=e.rows.length,h=e.columns.find(e=>e.field===t.groupingField);if(!h)throw Error("MUI X: The tree data grouping field does not exist.");e.initialState.columns.columnVisibilityModel[l]=!1;for(let t=0;t<o;t+=1){let a=e.rows[t],s=Math.floor(Math.log(Math.floor(t*(i**r-1)/o)+1)/Math.log(i));n[s]||(n[s]={rows:{},rowIndexes:[]}),n[s].rows[t]={value:a,parentIndex:null},n[s].rowIndexes.push(t)}return Object.entries(n).forEach(([e,{rows:t}])=>{let i=Number(e);Object.values(t).forEach(e=>{let t=[],a=null;for(let r=i;r>=0;r-=1){let o;r===i?(i>0&&(e.parentIndex=Number((0,s.V9)(n[i-1].rowIndexes))),o=e):o=n[r].rows[a.parentIndex],t.unshift(o.value[l]),a=o}e.value.path=t})}),(0,a.Z)({},e,{groupingColDef:{headerName:h.headerName??h.field,width:250},getTreeDataPath:e=>e.path,treeData:!0})}},54032:function(e,t,i){i.d(t,{l:function(){return a}});let a=i(6819).l},16568:function(e,t,i){i.d(t,{B:function(){return a}});let a=i(95508).B},95508:function(e,t,i){i.d(t,{B:function(){return a}});let a=i(86283).B},11271:function(e,t,i){i.d(t,{z:function(){return g}});var a=i(44675);let s="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,r=new Set,l="object"==typeof a&&a?a:{},n=(e,t,i,a)=>{"function"==typeof l.emitWarning?l.emitWarning(e,t,i,a):console.error(`[${i}] ${t}: ${e}`)},o=globalThis.AbortController,h=globalThis.AbortSignal;if(void 0===o){h=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(e,t){this._onabort.push(t)}},o=class{constructor(){t()}signal=new h;abort(e){if(!this.signal.aborted){for(let t of(this.signal.reason=e,this.signal.aborted=!0,this.signal._onabort))t(e);this.signal.onabort?.(e)}}};let e=l.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",t=()=>{e&&(e=!1,n("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}let d=e=>!r.has(e);Symbol("type");let u=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),c=e=>u(e)?e<=256?Uint8Array:e<=65536?Uint16Array:e<=4294967296?Uint32Array:e<=Number.MAX_SAFE_INTEGER?f:null:null;class f extends Array{constructor(e){super(e),this.fill(0)}}class p{heap;length;static #e=!1;static create(e){let t=c(e);if(!t)return[];p.#e=!0;let i=new p(e,t);return p.#e=!1,i}constructor(e,t){if(!p.#e)throw TypeError("instantiate Stack using Stack.create(n)");this.heap=new t(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}}class g{#t;#i;#a;#s;#r;#l;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#n;#o;#h;#d;#u;#c;#f;#p;#g;#m;#v;#y;#x;#b;#w;#S;#C;static unsafeExposeInternals(e){return{starts:e.#x,ttls:e.#b,sizes:e.#y,keyMap:e.#h,keyList:e.#d,valList:e.#u,next:e.#c,prev:e.#f,get head(){return e.#p},get tail(){return e.#g},free:e.#m,isBackgroundFetch:t=>e.#k(t),backgroundFetch:(t,i,a,s)=>e.#T(t,i,a,s),moveToTail:t=>e.#F(t),indexes:t=>e.#N(t),rindexes:t=>e.#_(t),isStale:t=>e.#D(t)}}get max(){return this.#t}get maxSize(){return this.#i}get calculatedSize(){return this.#o}get size(){return this.#n}get fetchMethod(){return this.#r}get memoMethod(){return this.#l}get dispose(){return this.#a}get disposeAfter(){return this.#s}constructor(e){let{max:t=0,ttl:i,ttlResolution:a=1,ttlAutopurge:s,updateAgeOnGet:l,updateAgeOnHas:o,allowStale:h,dispose:f,disposeAfter:m,noDisposeOnSet:v,noUpdateTTL:y,maxSize:x=0,maxEntrySize:b=0,sizeCalculation:w,fetchMethod:S,memoMethod:C,noDeleteOnFetchRejection:k,noDeleteOnStaleGet:T,allowStaleOnFetchRejection:F,allowStaleOnFetchAbort:N,ignoreFetchAbort:_}=e;if(0!==t&&!u(t))throw TypeError("max option must be a nonnegative integer");let D=t?c(t):Array;if(!D)throw Error("invalid max value: "+t);if(this.#t=t,this.#i=x,this.maxEntrySize=b||this.#i,this.sizeCalculation=w,this.sizeCalculation){if(!this.#i&&!this.maxEntrySize)throw TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw TypeError("sizeCalculation set to non-function")}if(void 0!==C&&"function"!=typeof C)throw TypeError("memoMethod must be a function if defined");if(this.#l=C,void 0!==S&&"function"!=typeof S)throw TypeError("fetchMethod must be a function if specified");if(this.#r=S,this.#S=!!S,this.#h=new Map,this.#d=Array(t).fill(void 0),this.#u=Array(t).fill(void 0),this.#c=new D(t),this.#f=new D(t),this.#p=0,this.#g=0,this.#m=p.create(t),this.#n=0,this.#o=0,"function"==typeof f&&(this.#a=f),"function"==typeof m?(this.#s=m,this.#v=[]):(this.#s=void 0,this.#v=void 0),this.#w=!!this.#a,this.#C=!!this.#s,this.noDisposeOnSet=!!v,this.noUpdateTTL=!!y,this.noDeleteOnFetchRejection=!!k,this.allowStaleOnFetchRejection=!!F,this.allowStaleOnFetchAbort=!!N,this.ignoreFetchAbort=!!_,0!==this.maxEntrySize){if(0!==this.#i&&!u(this.#i))throw TypeError("maxSize must be a positive integer if specified");if(!u(this.maxEntrySize))throw TypeError("maxEntrySize must be a positive integer if specified");this.#O()}if(this.allowStale=!!h,this.noDeleteOnStaleGet=!!T,this.updateAgeOnGet=!!l,this.updateAgeOnHas=!!o,this.ttlResolution=u(a)||0===a?a:1,this.ttlAutopurge=!!s,this.ttl=i||0,this.ttl){if(!u(this.ttl))throw TypeError("ttl must be a positive integer if specified");this.#L()}if(0===this.#t&&0===this.ttl&&0===this.#i)throw TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#t&&!this.#i){let e="LRU_CACHE_UNBOUNDED";d(e)&&(r.add(e),n("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",e,g))}}getRemainingTTL(e){return this.#h.has(e)?1/0:0}#L(){let e=new f(this.#t),t=new f(this.#t);this.#b=e,this.#x=t,this.#z=(i,a,r=s.now())=>{if(t[i]=0!==a?r:0,e[i]=a,0!==a&&this.ttlAutopurge){let e=setTimeout(()=>{this.#D(i)&&this.#E(this.#d[i],"expire")},a+1);e.unref&&e.unref()}},this.#A=i=>{t[i]=0!==e[i]?s.now():0},this.#I=(s,r)=>{if(e[r]){let l=e[r],n=t[r];if(!l||!n)return;s.ttl=l,s.start=n,s.now=i||a();let o=s.now-n;s.remainingTTL=l-o}};let i=0,a=()=>{let e=s.now();if(this.ttlResolution>0){i=e;let t=setTimeout(()=>i=0,this.ttlResolution);t.unref&&t.unref()}return e};this.getRemainingTTL=s=>{let r=this.#h.get(s);if(void 0===r)return 0;let l=e[r],n=t[r];return l&&n?l-((i||a())-n):1/0},this.#D=s=>{let r=t[s],l=e[s];return!!l&&!!r&&(i||a())-r>l}}#A=()=>{};#I=()=>{};#z=()=>{};#D=()=>!1;#O(){let e=new f(this.#t);this.#o=0,this.#y=e,this.#P=t=>{this.#o-=e[t],e[t]=0},this.#j=(e,t,i,a)=>{if(this.#k(t))return 0;if(!u(i)){if(a){if("function"!=typeof a)throw TypeError("sizeCalculation must be a function");if(!u(i=a(t,e)))throw TypeError("sizeCalculation return invalid (expect positive integer)")}else throw TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.")}return i},this.#Z=(t,i,a)=>{if(e[t]=i,this.#i){let i=this.#i-e[t];for(;this.#o>i;)this.#M(!0)}this.#o+=e[t],a&&(a.entrySize=i,a.totalCalculatedSize=this.#o)}}#P=e=>{};#Z=(e,t,i)=>{};#j=(e,t,i,a)=>{if(i||a)throw TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#N({allowStale:e=this.allowStale}={}){if(this.#n)for(let t=this.#g;this.#R(t)&&((e||!this.#D(t))&&(yield t),t!==this.#p);)t=this.#f[t]}*#_({allowStale:e=this.allowStale}={}){if(this.#n)for(let t=this.#p;this.#R(t)&&((e||!this.#D(t))&&(yield t),t!==this.#g);)t=this.#c[t]}#R(e){return void 0!==e&&this.#h.get(this.#d[e])===e}*entries(){for(let e of this.#N())void 0===this.#u[e]||void 0===this.#d[e]||this.#k(this.#u[e])||(yield[this.#d[e],this.#u[e]])}*rentries(){for(let e of this.#_())void 0===this.#u[e]||void 0===this.#d[e]||this.#k(this.#u[e])||(yield[this.#d[e],this.#u[e]])}*keys(){for(let e of this.#N()){let t=this.#d[e];void 0===t||this.#k(this.#u[e])||(yield t)}}*rkeys(){for(let e of this.#_()){let t=this.#d[e];void 0===t||this.#k(this.#u[e])||(yield t)}}*values(){for(let e of this.#N())void 0===this.#u[e]||this.#k(this.#u[e])||(yield this.#u[e])}*rvalues(){for(let e of this.#_())void 0===this.#u[e]||this.#k(this.#u[e])||(yield this.#u[e])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(e,t={}){for(let i of this.#N()){let a=this.#u[i],s=this.#k(a)?a.__staleWhileFetching:a;if(void 0!==s&&e(s,this.#d[i],this))return this.get(this.#d[i],t)}}forEach(e,t=this){for(let i of this.#N()){let a=this.#u[i],s=this.#k(a)?a.__staleWhileFetching:a;void 0!==s&&e.call(t,s,this.#d[i],this)}}rforEach(e,t=this){for(let i of this.#_()){let a=this.#u[i],s=this.#k(a)?a.__staleWhileFetching:a;void 0!==s&&e.call(t,s,this.#d[i],this)}}purgeStale(){let e=!1;for(let t of this.#_({allowStale:!0}))this.#D(t)&&(this.#E(this.#d[t],"expire"),e=!0);return e}info(e){let t=this.#h.get(e);if(void 0===t)return;let i=this.#u[t],a=this.#k(i)?i.__staleWhileFetching:i;if(void 0===a)return;let r={value:a};if(this.#b&&this.#x){let e=this.#b[t],i=this.#x[t];if(e&&i){let t=e-(s.now()-i);r.ttl=t,r.start=Date.now()}}return this.#y&&(r.size=this.#y[t]),r}dump(){let e=[];for(let t of this.#N({allowStale:!0})){let i=this.#d[t],a=this.#u[t],r=this.#k(a)?a.__staleWhileFetching:a;if(void 0===r||void 0===i)continue;let l={value:r};if(this.#b&&this.#x){l.ttl=this.#b[t];let e=s.now()-this.#x[t];l.start=Math.floor(Date.now()-e)}this.#y&&(l.size=this.#y[t]),e.unshift([i,l])}return e}load(e){for(let[t,i]of(this.clear(),e)){if(i.start){let e=Date.now()-i.start;i.start=s.now()-e}this.set(t,i.value,i)}}set(e,t,i={}){if(void 0===t)return this.delete(e),this;let{ttl:a=this.ttl,start:s,noDisposeOnSet:r=this.noDisposeOnSet,sizeCalculation:l=this.sizeCalculation,status:n}=i,{noUpdateTTL:o=this.noUpdateTTL}=i,h=this.#j(e,t,i.size||0,l);if(this.maxEntrySize&&h>this.maxEntrySize)return n&&(n.set="miss",n.maxEntrySizeExceeded=!0),this.#E(e,"set"),this;let d=0===this.#n?void 0:this.#h.get(e);if(void 0===d)d=0===this.#n?this.#g:0!==this.#m.length?this.#m.pop():this.#n===this.#t?this.#M(!1):this.#n,this.#d[d]=e,this.#u[d]=t,this.#h.set(e,d),this.#c[this.#g]=d,this.#f[d]=this.#g,this.#g=d,this.#n++,this.#Z(d,h,n),n&&(n.set="add"),o=!1;else{this.#F(d);let i=this.#u[d];if(t!==i){if(this.#S&&this.#k(i)){i.__abortController.abort(Error("replaced"));let{__staleWhileFetching:t}=i;void 0!==t&&!r&&(this.#w&&this.#a?.(t,e,"set"),this.#C&&this.#v?.push([t,e,"set"]))}else!r&&(this.#w&&this.#a?.(i,e,"set"),this.#C&&this.#v?.push([i,e,"set"]));if(this.#P(d),this.#Z(d,h,n),this.#u[d]=t,n){n.set="replace";let e=i&&this.#k(i)?i.__staleWhileFetching:i;void 0!==e&&(n.oldValue=e)}}else n&&(n.set="update")}if(0===a||this.#b||this.#L(),this.#b&&(o||this.#z(d,a,s),n&&this.#I(n,d)),!r&&this.#C&&this.#v){let e;let t=this.#v;for(;e=t?.shift();)this.#s?.(...e)}return this}pop(){try{for(;this.#n;){let e=this.#u[this.#p];if(this.#M(!0),this.#k(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(void 0!==e)return e}}finally{if(this.#C&&this.#v){let e;let t=this.#v;for(;e=t?.shift();)this.#s?.(...e)}}}#M(e){let t=this.#p,i=this.#d[t],a=this.#u[t];return this.#S&&this.#k(a)?a.__abortController.abort(Error("evicted")):(this.#w||this.#C)&&(this.#w&&this.#a?.(a,i,"evict"),this.#C&&this.#v?.push([a,i,"evict"])),this.#P(t),e&&(this.#d[t]=void 0,this.#u[t]=void 0,this.#m.push(t)),1===this.#n?(this.#p=this.#g=0,this.#m.length=0):this.#p=this.#c[t],this.#h.delete(i),this.#n--,t}has(e,t={}){let{updateAgeOnHas:i=this.updateAgeOnHas,status:a}=t,s=this.#h.get(e);if(void 0!==s){let e=this.#u[s];if(this.#k(e)&&void 0===e.__staleWhileFetching)return!1;if(!this.#D(s))return i&&this.#A(s),a&&(a.has="hit",this.#I(a,s)),!0;a&&(a.has="stale",this.#I(a,s))}else a&&(a.has="miss");return!1}peek(e,t={}){let{allowStale:i=this.allowStale}=t,a=this.#h.get(e);if(void 0===a||!i&&this.#D(a))return;let s=this.#u[a];return this.#k(s)?s.__staleWhileFetching:s}#T(e,t,i,a){let s=void 0===t?void 0:this.#u[t];if(this.#k(s))return s;let r=new o,{signal:l}=i;l?.addEventListener("abort",()=>r.abort(l.reason),{signal:r.signal});let n={signal:r.signal,options:i,context:a},h=(a,s=!1)=>{let{aborted:l}=r.signal,o=i.ignoreFetchAbort&&void 0!==a;return(i.status&&(l&&!s?(i.status.fetchAborted=!0,i.status.fetchError=r.signal.reason,o&&(i.status.fetchAbortIgnored=!0)):i.status.fetchResolved=!0),!l||o||s)?(this.#u[t]===u&&(void 0===a?u.__staleWhileFetching?this.#u[t]=u.__staleWhileFetching:this.#E(e,"fetch"):(i.status&&(i.status.fetchUpdated=!0),this.set(e,a,n.options))),a):d(r.signal.reason)},d=a=>{let{aborted:s}=r.signal,l=s&&i.allowStaleOnFetchAbort,n=l||i.allowStaleOnFetchRejection,o=n||i.noDeleteOnFetchRejection;if(this.#u[t]!==u||(o&&void 0!==u.__staleWhileFetching?l||(this.#u[t]=u.__staleWhileFetching):this.#E(e,"fetch")),n)return i.status&&void 0!==u.__staleWhileFetching&&(i.status.returnedStale=!0),u.__staleWhileFetching;if(u.__returned===u)throw a};i.status&&(i.status.fetchDispatched=!0);let u=new Promise((t,a)=>{let l=this.#r?.(e,s,n);l&&l instanceof Promise&&l.then(e=>t(void 0===e?void 0:e),a),r.signal.addEventListener("abort",()=>{(!i.ignoreFetchAbort||i.allowStaleOnFetchAbort)&&(t(void 0),i.allowStaleOnFetchAbort&&(t=e=>h(e,!0)))})}).then(h,e=>(i.status&&(i.status.fetchRejected=!0,i.status.fetchError=e),d(e))),c=Object.assign(u,{__abortController:r,__staleWhileFetching:s,__returned:void 0});return void 0===t?(this.set(e,c,{...n.options,status:void 0}),t=this.#h.get(e)):this.#u[t]=c,c}#k(e){return!!this.#S&&!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof o}async fetch(e,t={}){let{allowStale:i=this.allowStale,updateAgeOnGet:a=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:r=this.ttl,noDisposeOnSet:l=this.noDisposeOnSet,size:n=0,sizeCalculation:o=this.sizeCalculation,noUpdateTTL:h=this.noUpdateTTL,noDeleteOnFetchRejection:d=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:u=this.allowStaleOnFetchRejection,ignoreFetchAbort:c=this.ignoreFetchAbort,allowStaleOnFetchAbort:f=this.allowStaleOnFetchAbort,context:p,forceRefresh:g=!1,status:m,signal:v}=t;if(!this.#S)return m&&(m.fetch="get"),this.get(e,{allowStale:i,updateAgeOnGet:a,noDeleteOnStaleGet:s,status:m});let y={allowStale:i,updateAgeOnGet:a,noDeleteOnStaleGet:s,ttl:r,noDisposeOnSet:l,size:n,sizeCalculation:o,noUpdateTTL:h,noDeleteOnFetchRejection:d,allowStaleOnFetchRejection:u,allowStaleOnFetchAbort:f,ignoreFetchAbort:c,status:m,signal:v},x=this.#h.get(e);if(void 0===x){m&&(m.fetch="miss");let t=this.#T(e,x,y,p);return t.__returned=t}{let t=this.#u[x];if(this.#k(t)){let e=i&&void 0!==t.__staleWhileFetching;return m&&(m.fetch="inflight",e&&(m.returnedStale=!0)),e?t.__staleWhileFetching:t.__returned=t}let s=this.#D(x);if(!g&&!s)return m&&(m.fetch="hit"),this.#F(x),a&&this.#A(x),m&&this.#I(m,x),t;let r=this.#T(e,x,y,p),l=void 0!==r.__staleWhileFetching&&i;return m&&(m.fetch=s?"stale":"refresh",l&&s&&(m.returnedStale=!0)),l?r.__staleWhileFetching:r.__returned=r}}async forceFetch(e,t={}){let i=await this.fetch(e,t);if(void 0===i)throw Error("fetch() returned undefined");return i}memo(e,t={}){let i=this.#l;if(!i)throw Error("no memoMethod provided to constructor");let{context:a,forceRefresh:s,...r}=t,l=this.get(e,r);if(!s&&void 0!==l)return l;let n=i(e,l,{options:r,context:a});return this.set(e,n,r),n}get(e,t={}){let{allowStale:i=this.allowStale,updateAgeOnGet:a=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,status:r}=t,l=this.#h.get(e);if(void 0!==l){let t=this.#u[l],n=this.#k(t);return(r&&this.#I(r,l),this.#D(l))?(r&&(r.get="stale"),n)?(r&&i&&void 0!==t.__staleWhileFetching&&(r.returnedStale=!0),i?t.__staleWhileFetching:void 0):(s||this.#E(e,"expire"),r&&i&&(r.returnedStale=!0),i?t:void 0):(r&&(r.get="hit"),n)?t.__staleWhileFetching:(this.#F(l),a&&this.#A(l),t)}r&&(r.get="miss")}#U(e,t){this.#f[t]=e,this.#c[e]=t}#F(e){e!==this.#g&&(e===this.#p?this.#p=this.#c[e]:this.#U(this.#f[e],this.#c[e]),this.#U(this.#g,e),this.#g=e)}delete(e){return this.#E(e,"delete")}#E(e,t){let i=!1;if(0!==this.#n){let a=this.#h.get(e);if(void 0!==a){if(i=!0,1===this.#n)this.#W(t);else{this.#P(a);let i=this.#u[a];if(this.#k(i)?i.__abortController.abort(Error("deleted")):(this.#w||this.#C)&&(this.#w&&this.#a?.(i,e,t),this.#C&&this.#v?.push([i,e,t])),this.#h.delete(e),this.#d[a]=void 0,this.#u[a]=void 0,a===this.#g)this.#g=this.#f[a];else if(a===this.#p)this.#p=this.#c[a];else{let e=this.#f[a];this.#c[e]=this.#c[a];let t=this.#c[a];this.#f[t]=this.#f[a]}this.#n--,this.#m.push(a)}}}if(this.#C&&this.#v?.length){let e;let t=this.#v;for(;e=t?.shift();)this.#s?.(...e)}return i}clear(){return this.#W("delete")}#W(e){for(let t of this.#_({allowStale:!0})){let i=this.#u[t];if(this.#k(i))i.__abortController.abort(Error("deleted"));else{let a=this.#d[t];this.#w&&this.#a?.(i,a,e),this.#C&&this.#v?.push([i,a,e])}}if(this.#h.clear(),this.#u.fill(void 0),this.#d.fill(void 0),this.#b&&this.#x&&(this.#b.fill(0),this.#x.fill(0)),this.#y&&this.#y.fill(0),this.#p=0,this.#g=0,this.#m.length=0,this.#o=0,this.#n=0,this.#C&&this.#v){let e;let t=this.#v;for(;e=t?.shift();)this.#s?.(...e)}}}}}]);